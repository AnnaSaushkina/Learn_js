
Когда JS видит объект там, где нужен примитив (число/строка), он пытается его преобразовать. Мы можем этим управлять.

- **JS не позволяет перегружать операторы**, только управлять преобразованием в примитивы

- **Три хинта:** "string", "number", "default" (последний для бинарного +)

- **Порядок вызова:** Symbol.toPrimitive → затем toString/valueOf в зависимости от хинта

- **valueOf по умолчанию** возвращает сам объект (поэтому игнорируется)

- **Можно реализовать только toString()** — он будет использоваться везде



- **Для простых случаев** достаточно `toString()` и `valueOf()`

- **Для полного контроля** используй `Symbol.toPrimitive`

- **valueOf должен возвращать примитив** (число), иначе будет игнорироваться

- **Всегда можно вернуть любой примитив** из этих методов (не обязательно тот, что подсказывает хинт)

  
Зачем
- **Кастомизация вывода** объектов (логирование, отладка)

- **Объекты-значения** (деньги, даты, физические величины)

- **Библиотеки и фреймворки** (кастомизация поведения)

### **ПРАВИЛА**

  

| Что нужно сделать? | Хинт | Метод (по приоритету) |

| `alert(obj)` | "string" | toString → valueOf |

| `` `${obj}` `` | "string" | toString → valueOf |

| `+obj`, `obj * 2` | "number" | valueOf → toString |

| `obj1 + obj2` | "default" | valueOf → toString |

| `obj == 1` | "default" | valueOf → toString |

  

  

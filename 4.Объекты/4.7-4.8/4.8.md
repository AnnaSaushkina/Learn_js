
Когда JS видит объект там, где нужен примитив (число/строка), он пытается его преобразовать. Мы можем этим управлять.

- **JS не позволяет перегружать операторы**, только управлять преобразованием в примитивы

- **Три хинта:** "string", "number", "default" (последний для бинарного +)

- **Порядок вызова:** Symbol.toPrimitive → затем toString/valueOf в зависимости от хинта

- **valueOf по умолчанию** возвращает сам объект (поэтому игнорируется)

- **Можно реализовать только toString()** — он будет использоваться везде



- Для простых случаев`toString()` и `valueOf()`

- Для полного контроля `Symbol.toPrimitive`

- **valueOf должен возвращать примитив** (число), иначе будет игнорироваться

- **Всегда можно вернуть любой примитив** из этих методов (не обязательно тот, что подсказывает хинт)

  
Зачем
- **Кастомизация вывода** объектов (логирование, отладка)

- **Объекты-значения** (деньги, даты, физические величины)

- **Библиотеки и фреймворки** (кастомизация поведения)

Главное отличие:

toString/valueOf — старый подход, JS сам решает, какой метод вызывать

Symbol.toPrimitive — сам решаешь, основываясь на подсказке (hint)

  

  
